{"version":3,"file":"material-extra-theme-4f9cf195.js","sources":["../../../src/js/material-extra-theme.js"],"sourcesContent":["(() => {\n\n  const preferToggle = e => {\n    if (localStorage.getItem(\"data-md-prefers-color-scheme\") === \"true\") {\n      document.querySelector(\"body\").setAttribute(\"data-md-color-scheme\", (e.matches) ? \"dracula\" : \"default\")\n    }\n  }\n\n  const setupTheme = body => {\n    const preferSupported = window.matchMedia(\"(prefers-color-scheme)\").media !== \"not all\"\n    let scheme = localStorage.getItem(\"data-md-color-scheme\")\n    let prefers = localStorage.getItem(\"data-md-prefers-color-scheme\")\n\n    if (!scheme) {\n      scheme = \"dracula\"\n    }\n    if (!prefers) {\n      prefers = \"false\"\n    }\n\n    if (prefers === \"true\" && preferSupported) {\n      scheme = (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) ? \"dracula\" : \"default\"\n    } else {\n      prefers = \"false\"\n    }\n\n    body.setAttribute(\"data-md-prefers-color-scheme\", prefers)\n    body.setAttribute(\"data-md-color-scheme\", scheme)\n\n    if (preferSupported) {\n      const matchListener = window.matchMedia(\"(prefers-color-scheme: dark)\")\n      matchListener.addListener(preferToggle)\n    }\n  }\n\n  const observer = new MutationObserver(mutations => {\n    mutations.forEach(mutation => {\n      if (mutation.type === \"childList\") {\n        if (mutation.addedNodes.length) {\n          for (let i = 0; i < mutation.addedNodes.length; i++) {\n            const el = mutation.addedNodes[i]\n\n            if (el.nodeType === 1 && el.tagName.toLowerCase() === \"body\") {\n              setupTheme(el)\n              break\n            }\n          }\n        }\n      }\n    })\n  })\n\n  observer.observe(document.querySelector(\"html\"), {childList: true})\n})()\n\nwindow.toggleScheme = () => {\n  const body = document.querySelector(\"body\")\n  const preferSupported = window.matchMedia(\"(prefers-color-scheme)\").media !== \"not all\"\n  let scheme = body.getAttribute(\"data-md-color-scheme\")\n  let prefer = body.getAttribute(\"data-md-prefers-color-scheme\")\n\n  if (preferSupported && scheme === \"default\" && prefer !== \"true\") {\n    prefer = \"true\"\n    scheme = (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) ? \"dracula\" : \"default\"\n  } else if (preferSupported && prefer === \"true\") {\n    prefer = \"false\"\n    scheme = \"dracula\"\n  } else if (scheme === \"dracula\") {\n    prefer = \"false\"\n    scheme = \"default\"\n  } else {\n    prefer = \"false\"\n    scheme = \"dracula\"\n  }\n  localStorage.setItem(\"data-md-prefers-color-scheme\", prefer)\n  body.setAttribute(\"data-md-prefers-color-scheme\", prefer)\n  body.setAttribute(\"data-md-color-scheme\", scheme)\n}\n"],"names":["preferToggle","e","localStorage","getItem","document","querySelector","setAttribute","matches","MutationObserver","mutations","forEach","mutation","type","addedNodes","length","i","el","nodeType","tagName","toLowerCase","body","preferSupported","scheme","prefers","window","matchMedia","media","addListener","observe","childList","toggleScheme","getAttribute","prefer","setItem"],"mappings":";;;EAAA,IAEQA,CAFR;EAEuBC,CAAA,GAAA,WAAAA,EAAA;IAC0C,WAAzDC,YAAAA,CAAaC,OAAbD,CAAqB,8BAArBA,CAAyD,IAC3DE,QAAAA,CAASC,aAATD,CAAuB,MAAvBA,EAA+BE,YAA/BF,CAA4C,sBAA5CA,EAAqEH,EAAEM,CAAAA,OAAFN,GAAa,SAAbA,GAAyB,SAA9FG,CAD2D;GAD1C,EAiCJ,IAAII,gBAAJ,CAAqB,UAAAC,CAAA;IACpCA,CAAUC,CAAAA,OAAVD,CAAkB,UAAAE,CAAA,EAChB;MAAA,IAAsB,gBAAlBA,CAASC,CAAAA,IAAS,IAChBD,EAASE,UAATF,CAAoBG,MAD1B,EAEI,KAAK,IAAIC,CAAAA,GAAI,CAAb,EAAgBA,CAAIJ,GAAAA,CAAAA,CAASE,UAATF,CAAoBG,MAAxC,EAAgDC,CAAAA,EAAhD,EAAqD;QACnD,IAAMC,CAAKL,GAAAA,CAAAA,CAASE,UAATF,CAAoBI,CAApBJ,CAAX;;QAEA,IAAoB,MAAhBK,CAAGC,CAAAA,QAAa,IAAkC,WAA7BD,CAAGE,CAAAA,OAAHF,CAAWG,WAAXH,EAAzB,EAA8D;UAlCrDI,CAAAA,GAmCIJ,CAnCJI,EACXC,CACFC,GAAAA,KAAAA,CAFaF,EAEbE,CAAAA,GAAAA,KAAAA,CAFaF,EAGbG,UAHaH,EACXC,CAAwE,GAAA,cAAtDG,OAAOC,UAAPD,CAAkB,wBAAlBA,EAA4CE,KADnDN,EAEbE,CAASpB,GAAAA,YAAAA,CAAaC,OAAbD,CAAqB,sBAArBA,CAFIkB,EAGbG,CAAAA,GAAUrB,aAAaC,OAAbD,CAAqB,8BAArBA,CAHGkB,EAKZE,MACHA,CAAS,GAAA,UANMF,EAQZG,MACHA,CAAU,GAAA,QATKH,EAYD,WAAZG,CAAY,IAAUF,CAAV,GACdC,IAAUE,MAAOC,CAAAA,UAAPD,CAAkB,8BAAlBA,EAAkDjB,OAAlDiB,GAA6D,SAA7DA,GAAyE,SADrE,GAGdD,CAAAA,GAAU,OAfKH,EAkBjBA,CAAAA,CAAKd,YAALc,CAAkB,8BAAlBA,EAAkDG,CAAlDH,CAlBiBA,EAmBjBA,EAAKd,YAALc,CAAkB,sBAAlBA,EAA0CE,CAA1CF,CAnBiBA,EAqBbC,CACoBG,IAAAA,MAAAA,CAAOC,UAAPD,CAAkB,8BAAlBA,EACRG,WADQH,CACIxB,CADJwB,CAtBPJ;UAoCP;QAEH;MAtCU;MAAA,IAAAA,CAAA,EACXC,CADW,EAEbC,CAFa,EAGbC,CAHa;KA4BjBd;EAgBOmB,CAjBQ,EAiBRA,OAjBQ,CAiBAxB,SAASC,aAATD,CAAuB,MAAvBA,CAjBA,EAiBgC;IAACyB,SAAW,EAAA,CAAA;EAAZ,CAjBhC,CAjCI,EAqDvBL,OAAOM,YAAPN,GAAsB,YAAA;IACpB,IAAMJ,CAAOhB,GAAAA,QAAAA,CAASC,aAATD,CAAuB,MAAvBA,CAAb;IAAA,IACMiB,CAAAA,GAAwE,cAAtDG,MAAOC,CAAAA,UAAPD,CAAkB,wBAAlBA,EAA4CE,KADpE;IAAA,IAEIJ,CAAAA,GAASF,CAAKW,CAAAA,YAALX,CAAkB,sBAAlBA,CAFb;IAAA,IAGIY,CAAAA,GAASZ,EAAKW,YAALX,CAAkB,8BAAlBA,CAHb;IAKIC,KAA8B,cAAXC,CAAnBD,IAAsD,WAAXW,CAA3CX,IACFW,CAAAA,GAAS,MAATA,EACAV,CAAUE,GAAAA,MAAAA,CAAOC,UAAPD,CAAkB,8BAAlBA,EAAkDjB,OAAlDiB,GAA6D,SAA7DA,GAAyE,SAFjFH,IAGOA,CAAAA,IAA8B,WAAXW,CAAnBX,IACTW,CAAAA,GAAS,OAATA,EACAV,CAAS,GAAA,SAFAD,IAGW,cAAXC,CAAW,IACpBU,CAAAA,GAAS,OAATA,EACAV,CAAS,GAAA,SAFW,KAIpBU,IAAS,OAATA,EACAV,CAAAA,GAAS,SALW,CANlBD,EAaJnB,YAAa+B,CAAAA,OAAb/B,CAAqB,8BAArBA,EAAqD8B,CAArD9B,CAbImB,EAcJD,CAAAA,CAAKd,YAALc,CAAkB,8BAAlBA,EAAkDY,CAAlDZ,CAdIC,EAeJD,EAAKd,YAALc,CAAkB,sBAAlBA,EAA0CE,CAA1CF,CAfIC;GA3DiB;"}